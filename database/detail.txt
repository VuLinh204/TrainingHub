ToÃ n bá»™ dá»¯ liá»‡u váº­n hÃ nh xoay quanh 4 nhÃ³m thá»±c thá»ƒ chÃ­nh:
ğŸ‘¤ NhÃ¢n viÃªn (Employee) â†’ ğŸ“š KhÃ³a há»c (Subject) â†’ ğŸ§  BÃ i thi (Exam) â†’ ğŸ… Chá»©ng chá»‰ (Certificate)
vÃ  há»‡ thá»‘ng há»— trá»£ nhÆ° Theo dÃµi (WatchLog, Completion), PhÃ¢n quyá»n (Position, Assign), ThÃ´ng bÃ¡o (Notification).

ğŸ§© 1ï¸âƒ£ NhÃ¢n viÃªn â€“ tblTrain_Employee

Trung tÃ¢m cá»§a há»‡ thá»‘ng, lÃ  ngÆ°á»i há»c, lÃ m bÃ i thi, nháº­n chá»©ng chá»‰.

Má»—i nhÃ¢n viÃªn (Employee) thuá»™c má»™t chá»©c danh / vá»‹ trÃ­ (PositionID â†’ tblTrain_Position).

Má»™t nhÃ¢n viÃªn cÃ³ thá»ƒ:

ÄÆ°á»£c phÃ¢n cÃ´ng há»c cÃ¡c khÃ³a (tblTrain_Assign theo PositionID).

Xem video / há»c khÃ³a há»c (tblTrain_WatchLog).

LÃ m bÃ i thi (tblTrain_Exam).

HoÃ n thÃ nh khÃ³a há»c (tblTrain_Completion).

Nháº­n chá»©ng chá»‰ (tblTrain_Certificate).

Nháº­n thÃ´ng bÃ¡o (tblTrain_Notification).

ğŸ¢ 2ï¸âƒ£ Chá»©c danh â€“ tblTrain_Position

XÃ¡c Ä‘á»‹nh nhÃ³m nhÃ¢n viÃªn (VD: nhÃ¢n viÃªn bÃ¡n hÃ ng, quáº£n lÃ½, ká»¹ sÆ°...)

Má»—i chá»©c danh cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n cÃ´ng nhiá»u mÃ´n há»c thÃ´ng qua tblTrain_Assign.

Má»—i nhÃ¢n viÃªn liÃªn káº¿t Ä‘áº¿n 1 PositionID.

ğŸ“š 3ï¸âƒ£ KhÃ³a há»c â€“ tblTrain_Subject

ÄÆ¡n vá»‹ há»c táº­p chÃ­nh, gá»“m video, tÃ i liá»‡u, vÃ  bÃ i kiá»ƒm tra.

Má»—i Subject thuá»™c má»™t nhÃ³m kiáº¿n thá»©c (tblTrain_KnowledgeGroup).

Má»—i Subject cÃ³ nhiá»u:

CÃ¢u há»i (tblTrain_Question)

BÃ i thi (tblTrain_Exam)

Log há»c táº­p (tblTrain_WatchLog)

HoÃ n thÃ nh (tblTrain_Completion)

Chá»©ng chá»‰ (tblTrain_Certificate)

CÃ¡c trÆ°á»ng nhÆ° MinWatchPercent, RequiredScore quy Ä‘á»‹nh Ä‘iá»u kiá»‡n Ä‘áº¡t.

ğŸ§® 4ï¸âƒ£ BÃ i thi â€“ tblTrain_Exam

Ghi láº¡i má»—i láº§n nhÃ¢n viÃªn lÃ m bÃ i kiá»ƒm tra cá»§a má»™t khÃ³a há»c.

LiÃªn káº¿t:

EmployeeID â†’ tblTrain_Employee

SubjectID â†’ tblTrain_Subject

Khi tráº¡ng thÃ¡i Ä‘á»•i sang completed, trigger cáº­p nháº­t CompletedAt vÃ  Passed.

Chi tiáº¿t cÃ¢u tráº£ lá»i lÆ°u trong tblTrain_ExamDetail:

ExamDetail ná»‘i Exam + Question + Answer.

ğŸ§  5ï¸âƒ£ CÃ¢u há»i â€“ tblTrain_Question vÃ  ÄÃ¡p Ã¡n â€“ tblTrain_Answer

Má»—i mÃ´n há»c cÃ³ danh sÃ¡ch cÃ¢u há»i; má»—i cÃ¢u há»i cÃ³ nhiá»u Ä‘Ã¡p Ã¡n.

tblTrain_Question.SubjectID â†’ tblTrain_Subject.ID

tblTrain_Answer.QuestionID â†’ tblTrain_Question.ID

tblTrain_ExamDetail chá»©a lá»±a chá»n cá»§a ngÆ°á»i há»c Ä‘á»ƒ cháº¥m Ä‘iá»ƒm.

ğŸ¬ 6ï¸âƒ£ Theo dÃµi há»c táº­p â€“ tblTrain_WatchLog vÃ  HoÃ n thÃ nh â€“ tblTrain_Completion

Hai báº£ng nÃ y ghi nháº­n tiáº¿n Ä‘á»™.

tblTrain_WatchLog lÆ°u tá»«ng hÃ nh Ä‘á»™ng (pause, resume, seek, heartbeatâ€¦)

tblTrain_Completion lÆ°u báº£n ghi tá»•ng káº¿t ráº±ng nhÃ¢n viÃªn Ä‘Ã£ hoÃ n thÃ nh mÃ´n há»c nÃ o, theo phÆ°Æ¡ng thá»©c gÃ¬ (video / exam / manual).

tblTrain_Completion cÃ³ thá»ƒ do admin Ä‘Ã¡nh dáº¥u hoÃ n thÃ nh (CreatedBy).

ğŸ… 7ï¸âƒ£ Chá»©ng chá»‰ â€“ tblTrain_Certificate

Sinh ra khi nhÃ¢n viÃªn hoÃ n thÃ nh khÃ³a há»c Ä‘áº¡t yÃªu cáº§u.

EmployeeID â†’ tblTrain_Employee

SubjectID â†’ tblTrain_Subject

Chá»‰ 1 chá»©ng chá»‰ há»£p lá»‡ cho má»—i (Employee, Subject)

CÃ³ thá»i háº¡n (ExpiresAt), tÃ¬nh tráº¡ng thu há»“i (RevokedAt, RevokedBy).

CÃ³ trigger sinh CertificateHash (chá»‘ng giáº£ máº¡o).

CÃ³ ApprovedBy, ApprovedAt Ä‘á»ƒ admin duyá»‡t.

ğŸ“¢ 8ï¸âƒ£ ThÃ´ng bÃ¡o â€“ tblTrain_Notification

Gá»­i thÃ´ng bÃ¡o cho nhÃ¢n viÃªn khi:

CÃ³ chá»©ng chá»‰ Ä‘Æ°á»£c cáº¥p.

BÃ i thi hoÃ n thÃ nh.

KhÃ³a há»c Ä‘Æ°á»£c gÃ¡n.

ğŸ“Š 9ï¸âƒ£ Luá»“ng dá»¯ liá»‡u tá»•ng thá»ƒ

ToÃ n bá»™ chu trÃ¬nh váº­n hÃ nh nhÆ° sau:

(1) Admin táº¡o KnowledgeGroup & Subject
 â†“
(2) Admin gÃ¡n Subject cho Position (tblTrain_Assign)
 â†“
(3) NhÃ¢n viÃªn (theo PositionID) tháº¥y khÃ³a há»c trong danh sÃ¡ch cá»§a há»
 â†“
(4) NhÃ¢n viÃªn xem video â†’ lÆ°u WatchLog liÃªn tá»¥c
 â†“
(5) Khi Ä‘áº¡t MinWatchPercent, há» lÃ m bÃ i thi â†’ lÆ°u vÃ o tblTrain_Exam (+ExamDetail)
 â†“
(6) Há»‡ thá»‘ng tÃ­nh Score, cáº­p nháº­t Passed & CompletedAt
 â†“
(7) Náº¿u Passed = 1 â†’ thÃªm báº£n ghi vÃ o tblTrain_Completion
 â†“
(8) Náº¿u Ä‘á»§ Ä‘iá»u kiá»‡n â†’ sinh chá»©ng chá»‰ (tblTrain_Certificate)
 â†“
(9) Gá»­i thÃ´ng bÃ¡o (tblTrain_Notification)
 â†“
(10) Admin xem thá»‘ng kÃª qua Dashboard (query tá»« cÃ¡c báº£ng trÃªn)


ğŸ§­ Má»‘i quan há»‡ chÃ­nh (tÃ³m táº¯t dáº¡ng nÃ³i)
Báº£ng chÃ­nh	LiÃªn káº¿t vá»›i	Loáº¡i quan há»‡
Employee	Position	    N-1
Employee	Exam	        1-N
Employee	Completion	    1-N
Employee	Certificate	    1-N
Employee	WatchLog	    1-N
Subject	    KnowledgeGroup	N-1
Subject	    Question	    1-N
Subject	    Exam	        1-N
Subject	    Completion	    1-N
Subject	    Certificate	    1-N
Position	Assign	        1-N
Assign	    Subject	        N-1
Question	Answer	        1-N
Exam	    ExamDetail	    1-N